<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">

<!-- This HTML file generated by cxref. -->
<!-- cxref program (c) Andrew M. Bishop 1995,96,97,98,99. -->

<!--
Cxref: cxref -DTN_SRV -Id:/djgpp/include -O../doc/cxref -xref-all -Nsv2agw -index-all -html32 -html32-src ringbuf.c
CPP  : gcc -E -C -dD -dI -DTN_SRV -Id:/djgpp/include
-->

<HTML>

<HEAD>
<TITLE>Cross reference for ringbuf.c of sv2agw.</TITLE>
</HEAD>

<BODY>

<h1><a name="file" href="ringbuf.c.src.html">File ringbuf.c</a></h1>
* RINGBUF CREATE AND DELETE FUNCTIONS
<p>

<hr>
<h2>Included Files</h2>

$Header: ringbuf.c v1.0 Sun 07-23-2000 10:39:46 pm $
<br>
Functions for a circular buffer
<p>
<ul>
<li><tt>#include &lt;d:/djgpp/include/stdio.h&gt;</tt>
</ul>
<ul>
<li><tt>#include &lt;d:/djgpp/include/stdlib.h&gt;</tt>
</ul>
<ul>
<li><tt><a href="fortify.h.html#file">#include &quot;fortify.h&quot;</a></tt>
<ul>
<li><tt>#include &lt;stdlib.h&gt;</tt>
<li><tt>#include &lt;d:/djgpp/include/string.h&gt;</tt>
<li><tt><a href="ufortify.h.html#file">#include &quot;ufortify.h&quot;</a></tt>
</ul>
</ul>
<ul>
<li><tt><a href="ringbuf.h.html#file">#include &quot;ringbuf.h&quot;</a></tt>
<ul>
<li><tt>#include &lt;stdio.h&gt;</tt>
<li><tt>#include &lt;stdlib.h&gt;</tt>
</ul>
</ul>

<hr>
<h2><a name="func-ringbuf_cnt">Global Function ringbuf_cnt()</a></h2>
Get the number of characters actually stored in the ring buffer
<p>
<tt><a href="ringbuf.c.src.html#line147">size_t ringbuf_cnt ( RINGBUF* b )</a></tt><br>
<dl compact>
<dt><tt>size_t ringbuf_cnt</tt>
<dd> Returns the number of characters stored 
<dt><tt>RINGBUF* b</tt>
<dd> pointer to the ringbuffer 
</dl>
<table>
<tr><td>Prototyped in:
<td colspan=2><a href="ringbuf.h.html#file">ringbuf.h</a>
<tr><td>Called by:
<td><a href="agwpe_if.c.html#func-agwdata_get">agwdata_get()</a><td><a href="agwpe_if.c.html#func-agwdata_get">agwpe_if.c</a>
<tr><td>&nbsp;
<td><a href="agwpe_if.c.html#func-agwhdr_available">agwhdr_available()</a><td><a href="agwpe_if.c.html#func-agwhdr_available">agwpe_if.c</a>
<tr><td>&nbsp;
<td><a href="agwsubs.c.html#func-agwhdr_get">agwhdr_get()</a><td><a href="agwsubs.c.html#func-agwhdr_get">agwsubs.c</a>

</table>

<hr>
<h2><a name="func-ringbuf_create">Global Function ringbuf_create()</a></h2>
Create a circular buffer and initialize it
<p>
<tt><a href="ringbuf.c.src.html#line24">RINGBUF* ringbuf_create ( int size )</a></tt><br>
<dl compact>
<dt><tt>int size</tt>
<dd> Size of the ringbuffer to create 
</dl>
 Also check the absolute maximum size 
<p>
<table>
<tr><td>Prototyped in:
<td colspan=2><a href="ringbuf.h.html#file">ringbuf.h</a>
<tr><td>Calls:
<td colspan=2>calloc(), exit(), perror()
<tr><td>Called by:
<td><a href="agwsubs.c.html#func-agwpe_init">agwpe_init()</a><td><a href="agwsubs.c.html#func-agwpe_init">agwsubs.c</a>
<tr><td>&nbsp;
<td><a href="test.c.html#func-main">main()</a><td><a href="test.c.html#func-main">test.c</a>

</table>

<hr>
<h2><a name="func-ringbuf_delete">Global Function ringbuf_delete()</a></h2>
Delete a ringbuffer from mememory (regardless if it is empty or not
<p>
<tt><a href="ringbuf.c.src.html#line62">void ringbuf_delete ( RINGBUF* b )</a></tt><br>
<dl compact>
<dt><tt>RINGBUF* b</tt>
<dd> Pointer to ringbuffer to delete 
</dl>
<table>
<tr><td>Prototyped in:
<td colspan=2><a href="ringbuf.h.html#file">ringbuf.h</a>
<tr><td>Calls:
<td colspan=2>exit(), free(), perror()

</table>

<hr>
<h2><a name="func-ringbuf_get">Global Function ringbuf_get()</a></h2>
Get a character from the ring buffer
<p>
<tt><a href="ringbuf.c.src.html#line125">int ringbuf_get ( RINGBUF* b, unsigned char* c )</a></tt><br>
<dl compact>
<dt><tt>RINGBUF* b</tt>
<dd> Pointer to the ring buffer 
<dt><tt>unsigned char* c</tt>
<dd> The retrieved byte has to be stored here 
</dl>
Returns the number of characters retrieved (0 or 1)
<p>
<table>
<tr><td>Prototyped in:
<td colspan=2><a href="ringbuf.h.html#file">ringbuf.h</a>
<tr><td>Called by:
<td><a href="agwpe_if.c.html#func-agwdata_get">agwdata_get()</a><td><a href="agwpe_if.c.html#func-agwdata_get">agwpe_if.c</a>
<tr><td>&nbsp;
<td><a href="agwsubs.c.html#func-agwhdr_get">agwhdr_get()</a><td><a href="agwsubs.c.html#func-agwhdr_get">agwsubs.c</a>
<tr><td>&nbsp;
<td><a href="cmd.c.html#func-get_cmd">get_cmd()</a><td><a href="cmd.c.html#func-get_cmd">cmd.c</a>
<tr><td>&nbsp;
<td><a href="cmd.c.html#func-terminator">terminator()</a><td><a href="cmd.c.html#func-terminator">cmd.c</a>

</table>

<hr>
<h2><a name="func-ringbuf_peek">Global Function ringbuf_peek()</a></h2>
Look ahead what is the next character in the rinbuffer,
but do not adjust the pointers
<p>
<tt><a href="ringbuf.c.src.html#line162">int ringbuf_peek ( RINGBUF* b, unsigned char* c )</a></tt><br>
<dl compact>
<dt><tt>RINGBUF* b</tt>
<dd> Pointer to the ring buffer 
<dt><tt>unsigned char* c</tt>
<dd> The retrieved byte will be stored here 
</dl>
Returns the number of characters retrieved (0 or 1)
<p>
<table>
<tr><td>Prototyped in:
<td colspan=2><a href="ringbuf.h.html#file">ringbuf.h</a>
<tr><td>Called by:
<td><a href="cmd.c.html#func-terminator">terminator()</a><td><a href="cmd.c.html#func-terminator">cmd.c</a>

</table>

<hr>
<h2><a name="func-ringbuf_put">Global Function ringbuf_put()</a></h2>
Put a BYTE in the ringbuffer
<p>
<tt><a href="ringbuf.c.src.html#line88">void ringbuf_put ( RINGBUF* b, unsigned char c )</a></tt><br>
<dl compact>
<dt><tt>RINGBUF* b</tt>
<dd> Pointer to the buffer 
<dt><tt>unsigned char c</tt>
<dd> Byte to store in the buffer 
</dl>
Returns nothing. Exits when the ringbuffer is full
<p>
<table>
<tr><td>Prototyped in:
<td colspan=2><a href="ringbuf.h.html#file">ringbuf.h</a>
<tr><td>Calls:
<td colspan=2>perror()
<tr><td>Called by:
<td><a href="agwsubs.c.html#func-get_con_data">get_con_data()</a><td><a href="agwsubs.c.html#func-get_con_data">agwsubs.c</a>
<tr><td>&nbsp;
<td><a href="agwpe_if.c.html#func-get_tcp_data">get_tcp_data()</a><td><a href="agwpe_if.c.html#func-get_tcp_data">agwpe_if.c</a>
<tr><td>&nbsp;
<td><a href="tn_srv.c.html#func-get_telnet_data">get_telnet_data()</a><td><a href="tn_srv.c.html#func-get_telnet_data">tn_srv.c</a>

</table>

</BODY>
</HTML>
